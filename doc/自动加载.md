##自动加载
 
当你新建一个网站，并按照框架要求的文件夹结构部署好了，却发现找不到你要加载的类或文件，就需要看看这节了。

自动加载是需要配置的，在system/vendor下有个composer子文件夹，这个是php中著名的composer组件，这里有三个配置文件：

 1. autoload_namespaces.php
 2. autoload_files.php
 3. autoload_classmap.php

分别是用于配置要自动加载的命名空间、要自动加载的文件、要自动加载的类，掌握了它们，就能随心所欲的改变整个项目的文件夹结构了。

##autoload_namespaces.php

    <?php
    // autoload_namespaces.php @generated by Composer

    $vendorDir = dirname(__DIR__);
    $baseDir = dirname($vendorDir);

    return array(
	    //这里分别指定Monkey框架和一些要用到的组件的命名空间的位置，你对照下源码目录和这里的设置就知道如何设置了
        'Monkey' => array($vendorDir . DIRECTORY_SEPARATOR . 'monkey'),
        'Markdown' => array($vendorDir . DIRECTORY_SEPARATOR . 'markdown'),
        'Library' => array($vendorDir . DIRECTORY_SEPARATOR . 'library'),
        'Uploader' => array($vendorDir . DIRECTORY_SEPARATOR . 'uploader'),

		//下面是三个网站应用的命名空间的位置，都指向apps文件夹，没错，可见所有应用都应放在apps子文件夹中
        'Macaca' => array($baseDir . DIRECTORY_SEPARATOR . 'apps'),
        'Test' => array($baseDir . DIRECTORY_SEPARATOR . 'apps'),
        'DefaultApp' => array($baseDir . DIRECTORY_SEPARATOR . 'apps'),
    );

通过这个配置文件，你可以随意设置类文件夹的名字和位置了。这里配置命名空间都是需要才加载，不需要不会主动加载的，所以可以多添加些，只要不是太多就不会影响加载速度，根据composer源码，最前面的优先搜索，所以建议把最常用的，写在最前面。

##autoload_files.php

    <?php
    // autoload_files.php @generated by Composer

    $vendorDir = dirname(__DIR__);
    $baseDir = dirname($vendorDir);

    return array(
    	//这里我仅仅是加载了工具函数文件
        $vendorDir . '/monkey/Monkey/function.php'
    );

可见这个配置是加载非类用的。并且一开始就加载不管你的项目有没有使用到，所以尽量少加载为好。

##autoload_classmap.php

    <?php

    // autoload_classmap.php @generated by Composer

    $vendorDir = dirname(dirname(__FILE__));
    $baseDir = dirname($vendorDir);

    return array(
    	//这个是你需要加载的特别的类
        'MyClassName' => $baseDir . '/especially/MyClassName.class.php',
    );

这个是用来加载没有使用命名空间旧类的，在我的项目中并没有这个配置，是因为这个落后了，如果一百个类要加载那得写多少配置啊。花点时间升级你的代码到命名空间吧。
